<!DOCTYPE html>
<html>
    <head>
        <body>
            <h1>프론트엔드 AJAX 파일업로드 샘플</h1>
            <form>
                파일선택: <input type="file" name="file" id="file" />
            </form>

            <script src="../js/jquery-3.1.1.min.js"></script>
            <script>
                //사용자가 파일을 변경ㅇ선택하면 발생하는 OnChange 이벤트 처리
                $("#file").change(function(){
                    //AJAX 기법으로 프론트엔드 폼데이터를 생성하고 전송하는 방법
                    //순수자바스크립트로 form안에 전송할 데이터를 생성할때 사용하는 객체
                    var data = new FormData();

                    //data.append("폼으로 전송할 name값", "폼데이터값-선택파일정보")
                    data.append("file", $("input[name=file]")[0].files[0]);

                    //AJAX를 통해 백엔드 RESTful 업로드 API를 호출해서 파일을 업로드한다.
                    $.ajax({
                        data:data,
                        type:"POST",
                        url:"/api/article/uploadS3", //api/article/upload OR /api/article/uploadS3
                        cache:false,
                        contentType:false,
                        processData:false,
                        success:function(result){
                            console.log("파일업로드 처리결과:", result);
                        }
                    })
                });
            </script>
        </body>
    </head>
</html>